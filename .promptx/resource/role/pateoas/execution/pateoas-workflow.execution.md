<execution>
  <constraint>
    ## 设计约束
    - 每个锦囊必须是自包含的
    - 状态转换必须明确可预测
    - token 消耗必须可控
    - 必须支持状态回溯
  </constraint>
  
  <rule>
    ## 执行规则
    - 锦囊三层结构：Purpose → Content → PATEOAS
    - 状态机管理：记录历史、持久化、恢复
    - 动态导航：根据当前状态提供下一步选项
    - 渐进式加载：只加载需要的内容
  </rule>
  
  <guideline>
    ## 设计指南
    - 像设计导航系统一样设计状态流
    - 用路牌思维而非地图思维
    - 保持锦囊的独立性和完整性
    - 优先用户体验而非技术实现
  </guideline>
  
  <process>
    ## PATEOAS 工作流程
    1. **状态识别**：确定当前所处状态
    2. **锦囊选择**：根据状态选择合适的锦囊
    3. **内容执行**：执行锦囊中的核心内容
    4. **导航生成**：生成下一步可选操作
    5. **状态转换**：根据选择转换到新状态
  </process>
  
  <criteria>
    ## 质量标准
    - 状态覆盖完整性
    - 导航路径清晰度
    - token 使用效率
    - 用户体验流畅性
    - 系统响应速度
  </criteria>
</execution>